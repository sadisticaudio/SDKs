<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AAX SDK: Linked parameter update sequences</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="aaxdoxy.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cw_105x65_aax_buf.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AAX SDK
   &#160;<span id="projectnumber">2.3.2</span>
   </div>
   <div id="projectbrief">Avid Audio Extensions Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Linked parameter update sequences<div class="ingroups"><a class="el" href="a00793.html">AAX SDK Manual</a> &raquo; <a class="el" href="a00818.html">Additional Topics</a> &raquo; <a class="el" href="a00820.html">Parameter updates</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Sequence diagrams for some common linked parameter update scenarios. </p>
<h1><a class="anchor" id="advancedTopics_linkedParameters_sequences_contents"></a>
On this page</h1>
<ul>
<li><a class="el" href="a00825.html#linkedParameters_sequences_user_gui">User-generated update</a> </li>
<li><a class="el" href="a00825.html#linkedParameters_sequences_automation">Update from automation playback</a></li>
</ul>
<dl class="section note"><dt>Note</dt><dd>To enable logging for these events at run time set <code>DTF_AUTOMATION=file@DTP_LOW</code> in the <a class="el" href="a00834.html">DigiTrace</a> configuration file.</dd></dl>
<h2><a class="anchor" id="advancedTopics_linkedParameters_sequences_notes"></a>
Notes on threading for these sequences</h2>
<ul>
<li>Calls from the host into <a class="el" href="a01825.html">AAX_IEffectParameters</a> may occur on any thread. In general, the only synchronization that is guaranteed for data model calls in these diagrams is that the call will follow whatever event is indicated as its trigger.</li>
<li>Calls from the host into <a class="el" href="a01821.html">AAX_IEffectGUI</a> will occur on the main application thread unless indicated otherwise in the <a class="el" href="a01821.html">AAX_IEffectGUI</a> documentation.</li>
<li>Host-driven updates to the algorithm context are always synchronized with the real-time processing thread</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00823.html">Basic parameter update sequences</a></dd></dl>
<h1><a class="anchor" id="linkedParameters_sequences_user_gui"></a>
User-generated update</h1>
<p>This is the sequence of calls for a parameter update triggered by the user. For this sequence, we assume that the edit was triggered by a GUI event. Updates from control surfaces are handled in exactly the same way, except that the parameter touch, set value, and release tokens are generated by the control surface.</p>
<p>In this example the updated parameter is reciprocally linked to one other parameter. These are the "linker" and "linked" parameters, respectively.</p>
<p>This procedure is very similar to the non-linked case described <a class="el" href="a00823.html#parameterUpdates_sequences_user">here</a>. In the diagrams below, red arcs and pink section headings are used to indicate events that are specific to the linked parameter case.</p>
<p>Notes:</p><ol type="1">
<li>This sequence shows the linked parameter reciprocally issuing a touch on the linker parameter. The touch fails since the linker parameter is already touched at this time. If the roles were reversed (if an edit occurred on the linked parameter) then this touch would succeed.</li>
<li>The host flags all set value tokens that are triggered by a plug-in within the scope of <a class="el" href="a01669.html#a685858711efb8634ce66c327f2865c71" title="Updates a single parameter&#39;s state to its current value.">AAX_IEffectParameters::UpdateParameterNormalizedValue()</a> "UpdateParameterNormalizedValue()". When those set value tokens are processed they result in additional calls to <a class="el" href="a01669.html#a685858711efb8634ce66c327f2865c71" title="Updates a single parameter&#39;s state to its current value.">AAX_IEffectParameters::UpdateParameterNormalizedValue()</a> "UpdateParameterNormalizedValue()". The host sets <code>iSource</code> to <a class="el" href="a00491.html#a30be0398faf20c6b121239eb9399f3f7a401db669e68d5255c1126f7bf183b7ca">AAX_eUpdateSource_Parameter</a> for each of these subsequent calls to indicate that the update originated from within a parameter update event.</li>
<li><a class="el" href="a01481.html#adf4d2d6060bf3e13619838cea8b59865">IsParameterLinkReady()</a> returns <code>true</code> during the linker parameter update because the update source is unknown and the parameter is touched. Both conditions must be true in order for the linking logic to proceed with setting linked parameters' values.</li>
<li><a class="el" href="a01481.html#adf4d2d6060bf3e13619838cea8b59865">IsParameterLinkReady()</a> returns <code>false</code> during the linked parameter update because the source is <a class="el" href="a00491.html#a30be0398faf20c6b121239eb9399f3f7a401db669e68d5255c1126f7bf183b7ca">AAX_eUpdateSource_Parameter</a>. This prevents update cycles for reciprocally linked parameters, as demonstrated here.</li>
</ol>
<h2><a class="anchor" id="linkedParameters_sequences_user_gui_highLevel"></a>
High-level interface calls and events</h2>
<p><div class="mscgraph">
<img src="msc_AAX_LinkedParameterUpdate_GUI_HighLevel.png" alt="msc_AAX_LinkedParameterUpdate_GUI_HighLevel" border="0"/>
<div class="caption">
High-level sequence of interface calls and events for a reciprocally linked parameter update following a user-generated edit</div>
</div>
 </p>
<h2><a class="anchor" id="linkedParameters_sequences_user_gui_detail"></a>
Detailed interface calls and events</h2>
<p>Note that this diagram assumes a GUI implementation that uses <a class="el" href="a01669.html#a368b0f5a761d1eda4c41b420f153a077">SetParameterNormalizedValue()</a>. The implementation could also use other parameter set methods, either in <a class="el" href="a01825.html">AAX_IEffectParameters</a> or directly on an <a class="el" href="a01857.html">AAX_IParameter</a>. The overall sequence would remain the same.</p>
<p><div class="mscgraph">
<img src="msc_AAX_LinkedParameterUpdate_GUI.png" alt="msc_AAX_LinkedParameterUpdate_GUI" border="0"/>
<div class="caption">
Detailed sequence of method calls and events for a reciprocally linked parameter update following a user-generated edit on the plug-in GUI</div>
</div>
 </p>
<h1><a class="anchor" id="linkedParameters_sequences_automation"></a>
Update from automation playback</h1>
<p>Since all parameter linking occurs while recording automation, automation playback is very simple. The automation lanes may contain any arbitrary values, so, in order to avoid fighting between incompatible values, the plug-in should respect all automation values during playback.</p>
<p>Notes:</p><ol type="1">
<li><a class="el" href="a01481.html#adf4d2d6060bf3e13619838cea8b59865">IsParameterLinkReady()</a> returns <code>false</code> during automation playback because the updated parameter is not touched. This ensures that automation playback will proceed with the written values and also guarantees that the user will always be able to override the automation using a control surface encoder or GUI editor.</li>
</ol>
<p><div class="mscgraph">
<img src="msc_AAX_LinkedParameterUpdate_Automation.png" alt="msc_AAX_LinkedParameterUpdate_Automation" border="0"/>
<div class="caption">
Sequence of method calls and events during automation playback with linked parameters</div>
</div>
</p>
<div class="dynheader">
Collaboration diagram for Linked parameter update sequences:</div>
<div class="dyncontent">
<center><table><tr><td><img src="a00825.png" border="0" alt="" usemap="#a00825"/>
<map name="a00825" id="a00825">
<area shape="rect"  href="a00820.html" title="The anatomy of a parameter update." alt="" coords="5,12,140,36"/>
<area shape="rect"  title="Sequence diagrams for some common linked parameter update scenarios." alt="" coords="188,5,358,43"/>
</map>
</td></tr></table></center>
</div>
</div><!-- contents -->
<!--        Copyright 2016, 2018 by Avid Technology, Inc.        -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<div class="FooterLegal">This product may be protected by one or more U.S. and non-U.S. patents. Details are available at <a href="https://www.avid.com/patents">www.avid.com/patents</a>.</div>
Generated on Sun Jun 6 2021 15:21:29 for AAX SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
